[gd_scene load_steps=16 format=3 uid="uid://bcdhofcjao8v8"]

[ext_resource type="PackedScene" uid="uid://ce3y8qsfrc3a5" path="res://models/osprey/osprey.blend" id="1_hvfl5"]
[ext_resource type="Script" uid="uid://cp632qvqjcw3d" path="res://scenes/osprey/osprey.gd" id="2_d7qgj"]
[ext_resource type="Material" uid="uid://fjjwvgv5mvjc" path="res://resources/materials/osprey.tres" id="3_d7qgj"]
[ext_resource type="AudioStream" uid="uid://crbq5q4uhrblf" path="res://audio/(SFX) flap.mp3" id="4_pma76"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_d7qgj"]
cull_mode = 2

[sub_resource type="Curve" id="Curve_d7qgj"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.36082473, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hvfl5"]
radius = 0.18310547
height = 1.0819092

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0wg06"]
animation = &"flap"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_d7qgj"]
animation = &"dive"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pma76"]
animation = &"glide"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_0rfo8"]
blend_point_0/node = SubResource("AnimationNodeAnimation_d7qgj")
blend_point_0/pos = -1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_pma76")
blend_point_1/pos = -0.7

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_r154t"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_013jp"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_t4ft4"]
states/flap/node = SubResource("AnimationNodeAnimation_0wg06")
states/flap/position = Vector2(452, 152)
states/glide/node = SubResource("AnimationNodeBlendSpace1D_0rfo8")
states/glide/position = Vector2(414, 35)
transitions = ["flap", "glide", SubResource("AnimationNodeStateMachineTransition_r154t"), "Start", "glide", SubResource("AnimationNodeStateMachineTransition_013jp")]

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_pma76"]
random_pitch = 1.3
random_volume_offset_db = 1.0
streams_count = 1
stream_0/stream = ExtResource("4_pma76")

[node name="osprey" instance=ExtResource("1_hvfl5")]
collision_layer = 2
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
script = ExtResource("2_d7qgj")

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(-1.2108134e-08, 0.03180181, -0.4473516)
bones/0/rotation = Quaternion(0.64084727, -3.5396243e-07, -4.2401027e-07, 0.7676685)
bones/1/rotation = Quaternion(0.06128725, -2.8160247e-07, -8.4993346e-08, 0.99812025)
bones/2/rotation = Quaternion(0.19193277, 2.8492768e-12, -3.2032287e-07, 0.9814082)
bones/3/rotation = Quaternion(-0.069480866, 0.020469075, -0.6620365, 0.7459632)
bones/4/rotation = Quaternion(0.17546259, 0.006459753, -0.15062277, 0.9728741)
bones/5/rotation = Quaternion(0.08187143, 0.03699412, -0.20115659, 0.9754305)
bones/6/rotation = Quaternion(-0.06947977, -0.020467833, 0.6620366, 0.7459633)
bones/7/rotation = Quaternion(0.17546257, -0.006459742, 0.15062277, 0.9728741)
bones/8/rotation = Quaternion(0.08243983, -0.03721062, 0.20108142, 0.9753899)
bones/9/rotation = Quaternion(0.9274003, 0.01163871, -0.027611108, 0.37286872)
bones/10/rotation = Quaternion(0.599447, -0.0078707365, -0.023004532, 0.8000451)
bones/11/rotation = Quaternion(-0.53863156, -0.012385674, 0.041377883, 0.8414336)
bones/12/rotation = Quaternion(0.033242766, 0.018664118, 0.0033038799, 0.99926764)
bones/13/rotation = Quaternion(0.6402531, -0.07241425, -0.065391384, 0.7619423)
bones/14/rotation = Quaternion(0.92740065, -0.011638455, 0.027610205, 0.37286776)
bones/15/rotation = Quaternion(0.5994476, 0.007870708, 0.023004567, 0.80004466)
bones/16/rotation = Quaternion(-0.5386321, 0.012385685, -0.041377924, 0.84143335)
bones/17/rotation = Quaternion(0.033242792, -0.018664116, -0.0033038706, 0.9992676)
bones/18/rotation = Quaternion(0.6402531, 0.07241428, 0.06539138, 0.7619424)
bones/19/position = Vector3(0.05061911, -0.050205305, -0.23083048)
bones/19/rotation = Quaternion(0.9989138, -1.8672386e-16, -0.04659608, -2.983473e-08)
bones/20/position = Vector3(-0.05061911, -0.050205305, -0.23083048)
bones/20/rotation = Quaternion(0.9989138, 1.8672386e-16, 0.04659608, -2.983473e-08)

[node name="Cube" parent="Armature/Skeleton3D" index="0"]
gi_mode = 2
surface_material_override/0 = ExtResource("3_d7qgj")

[node name="TrailEmitter" type="TrailEmitter" parent="Armature" index="1"]
material = SubResource("StandardMaterial3D_d7qgj")
curve = SubResource("Curve_d7qgj")
geometry_nodepath = NodePath("../..")
num_points = 10
size = 0.32
transform = Transform3D(1.0000001, 0, 0, 0, 1.0000001, 0, 0, 0, 1.0000001, 0, 0, -0.3679576)

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, -3.700421e-09, -0.06171)
shape = SubResource("CapsuleShape3D_hvfl5")

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeStateMachine_t4ft4")
anim_player = NodePath("../AnimationPlayer")
parameters/glide/blend_position = -0.4410218

[node name="flap" type="AudioStreamPlayer" parent="." index="5"]
stream = SubResource("AudioStreamRandomizer_pma76")
volume_db = 8.0
max_polyphony = 2
bus = &"SFX"
